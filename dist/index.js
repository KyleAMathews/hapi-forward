// Generated by CoffeeScript 2.3.2
(function() {
  var Forwarded;

  Forwarded = require('forwarded');

  exports.plugin = {
    register: function(server, options) {
      return server.ext('onRequest', function(request, h) {
        var address;
        address = Forwarded(request.raw.req).pop();
        if (address.trim() !== '') {
          request.info.remoteAddress = address;
        }
        return h.continue;
      });
    },
    pkg: require('../package.json'),
    name: 'hapi-forward'
  };

}).call(this);
